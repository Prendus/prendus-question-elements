<link rel="import" href="../../../bower_components/wysiwyg-e/wysiwyg-tool.html">
<link rel="import" href="../../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../../bower_components/paper-tooltip/paper-tooltip.html">
<link rel="import" href="../../../bower_components/paper-toggle-button/paper-toggle-button.html">
<link rel="import" href="../../../bower_components/polymer/lib/elements/dom-repeat.html">

<dom-module id="prendus-multiple-choice-tool">
    <template>
        <style include="wysiwyg-tool"></style>
        <paper-button id="button" disabled="[[disabled]]">
            <iron-icon icon="icons:radio-button-checked"></iron-icon>
        </paper-button>
        <paper-tooltip id="tooltip" for="button" position="[[tooltipPosition]]" offset="5">
			<span>Multiple choice</span>
		</paper-tooltip>

        <paper-dialog id="radioDialog" on-click="radioDialogClick">
            <div style="display: flex">
                <paper-input id="questionStemInput" type="text" label="Question" autofocus on-value-changed="questionStemChanged" value="[[getQuestionStem(question)]]"></paper-input>
            </div>

            <div style="display: flex">
                <paper-input id="optionInput" type="text" label="Multiple choice option"></paper-input>
                <button style="height: 100%; margin-top: 8%; margin-left: .5vw" on-click="addOptionClick">Add</button>
            </div>

            <dom-repeat items="[[userRadios]]">
                <template>
                    <div style="display: flex">
                        <paper-input id="[[item.varName]]-input" type="text" value="[[getCompiledContent(item.content)]]" on-input="radioContentChanged"></paper-input>
                        <div>Correct:</div>
                        <paper-toggle-button id="[[item.varName]]-toggle" on-checked-changed="radioCorrectChanged"></paper-toggle-button>
                    </div>
                </template>
            </dom-repeat>

            <div style="display: flex">
                <paper-button style="margin-left: auto" raised on-click="doneClick">Done</paper-button>
            </div>

        </paper-dialog>
    </template>

    <script type="module" src="prendus-multiple-choice-tool.ts"></script>
</dom-module>
